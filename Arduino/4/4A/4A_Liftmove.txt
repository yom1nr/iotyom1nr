#include <MD_MAX72xx.h>
#include <SPI.h>




#define HARDWARE_TYPE MD_MAX72XX::FC16_HW
#define MAX_DEVICES 1
#define CS_PIN    5
#define DATA_PIN  23
#define CLK_PIN   18




MD_MAX72XX mx = MD_MAX72XX(HARDWARE_TYPE, DATA_PIN, CLK_PIN, CS_PIN, MAX_DEVICES);




// ลูกศรขึ้น (8 แถว)
uint8_t arrowUp[8] = {
  0b00001000,
  0b00011100,
  0b00111110,
  0b01111111,
  0b00011100,
  0b00011100,
  0b00011100,
  0b00011100
};




int pos = 8;   // เริ่มจากล่างจอ




void setup() {
  mx.begin();
  mx.control(MD_MAX72XX::INTENSITY, 6);
  mx.clear();
}




void loop() {
  mx.clear();   // ล้างก่อนวาดทุกครั้ง




  // วาดลูกศรทีละแถว (แค่อันเดียว)
  for (int i = 0; i < 8; i++) {
    int row = pos + i;
    if (row >= 0 && row < 8) {
      mx.setRow(0, row, arrowUp[i]);
    }
  }




  pos--;                 // เลื่อนขึ้น
  if (pos < -8) pos = 8; // วนกลับล่างสุด




  delay(200); // ปรับความเร็ว
}