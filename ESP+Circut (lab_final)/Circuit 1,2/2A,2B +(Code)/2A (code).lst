
ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 1





       MCS-51 Family Macro Assembler   A S E M - 5 1   V 1.3
       =====================================================



	Source File:	C:\Users\jirap\OneDrive\Desktop\test\2A (code).asm
	Object File:	C:\Users\jirap\OneDrive\Desktop\test\2A (code).hex
	List File:	C:\Users\jirap\OneDrive\Desktop\test\2A (code).lst



 Line  I  Addr  Code            Source

    1:		N      0001	kDelay EQU 1
    2:				; if Run on board >> kDelay EQU 25
    3:				; if SimmulaO on >> kDelay EQU 1
    4:		B      0094	LF_SEG 	EQU 	P1.4
    5:		B      0095	RG_SEG 	EQU 	P1.5
    6:		D      0080	PT_SEG 	EQU 	P0
    7:		B      00A7	pData 	EQU 	P2.7
    8:		B      00A6	pClock 	EQU 	P2.6
    9:		B      00A5	pLatch 	EQU 	P2.5
   10:		N      0000	 	ORG 	0000H
   11:	  0000	21 00		 	JMP 	0100H
   12:
   13:		N      0100	 	ORG 	0100H
   14:	  0100	75 81 2F	 	MOV 	SP,#2FH
   15:	  0103	C2 94		 	CLR 	LF_SEG
   16:	  0105	C2 95		 	CLR 	RG_SEG
   17:	  0107	90 00 01	LOOP: 	MOV DPTR,#0001H
   18:	  010A	12 01 69	 	CALL Send16_LED
   19:	  010D	90 00 02		MOV DPTR,#0002H
   20:	  0110	12 01 69	 	CALL Send16_LED
   21:	  0113	90 00 04	 	MOV DPTR,#0004H
   22:	  0116	12 01 69	 	CALL Send16_LED
   23:	  0119	90 00 08		MOV DPTR,#0008H
   24:	  011C	12 01 69	 	CALL Send16_LED
   25:	  011F	90 00 10	 	MOV DPTR,#0010H
   26:	  0122	12 01 69	 	CALL Send16_LED
   27:	  0125	90 00 20	 	MOV DPTR,#0020H
   28:	  0128	12 01 69	 	CALL Send16_LED
   29:	  012B	90 00 40	 	MOV DPTR,#0040H
   30:	  012E	12 01 69	 	CALL Send16_LED
   31:	  0131	90 00 80	 	MOV DPTR,#0080H
   32:	  0134	12 01 69	 	CALL Send16_LED
   33:	  0137	90 01 00	 	MOV DPTR,#0100H
   34:	  013A	12 01 69	 	CALL Send16_LED
   35:	  013D	90 02 00	 	MOV DPTR,#0200H
   36:	  0140	12 01 69	 	CALL Send16_LED
   37:	  0143	90 04 00	 	MOV DPTR,#0400H
   38:	  0146	12 01 69	 	CALL Send16_LED
   39:	  0149	90 08 00	 	MOV DPTR,#0800H
   40:	  014C	12 01 69	 	CALL Send16_LED
   41:	  014F	90 10 00	 	MOV DPTR,#1000H
   42:	  0152	12 01 69	 	CALL Send16_LED
   43:	  0155	90 20 00	 	MOV DPTR,#2000H

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 2



 Line  I  Addr  Code            Source

   44:	  0158	12 01 69	 	CALL Send16_LED
   45:	  015B	90 40 00	 	MOV DPTR,#4000H
   46:	  015E	12 01 69	 	CALL Send16_LED
   47:	  0161	90 80 00	 	MOV DPTR,#8000H
   48:	  0164	12 01 69	 	CALL Send16_LED
   49:	  0167	80 9E		 	JMP LOOP
   50:	  0169			Send16_LED:
   51:	  0169	E5 82		 	MOV A,DPL
   52:	  016B	12 01 86	 	CALL ShiO8
   53:	  016E	E5 83		 	MOV A,DPH
   54:	  0170	12 01 86	 	CALL ShiO8
   55:	  0173	C2 A5		 	CLR pLatch
   56:	  0175	D2 A5		 	SETB pLatch
   57:	  0177	12 01 94	 	CALL Display_DPTR
   58:	  017A	7F 0A		 	MOV R7,#10
   59:	  017C	7E 01		_Wait0: MOV R6,#kDelay
   60:	  017E	12 01 E0	_Wait1: CALL DELAY
   61:	  0181	DE FB		 	DJNZ R6,_Wait1
   62:	  0183	DF F7		 	DJNZ R7,_Wait0
   63:	  0185	22		 	RET
   64:	  0186			ShiO8:
   65:	  0186	75 F0 08	    	MOV B,#8
   66:	  0189			_ShiO:
   67:	  0189	13			RRC A
   68:	  018A	92 A7		    	MOV pData,C
   69:	  018C	C2 A6		    	CLR pClock
   70:	  018E	D2 A6			SETB pClock
   71:	  0190	D5 F0 F6	    	DJNZ B,_ShiO
   72:	  0193	22		 	RET
   73:
   74:	  0194			Display_DPTR:
   75:	  0194	74 10		 	MOV A,#10H
   76:	  0196	12 01 AE	 	CALL _Send1Seg
   77:	  0199	E5 83		 	MOV A,DPH
   78:	  019B	12 01 A4	 	CALL _Send2HEX
   79:	  019E	E5 82		 	MOV A,DPL
   80:	  01A0	12 01 A4	 	CALL _Send2HEX
   81:	  01A3	22		 	RET
   82:	  01A4			_Send2HEX:
   83:	  01A4	C0 E0		 	PUSH Acc
   84:	  01A6	C4		 	SWAP A
   85:	  01A7	12 01 AC	 	CALL _Send1HEX
   86:	  01AA	D0 E0		 	POP Acc
   87:	  01AC			_Send1HEX:
   88:	  01AC	54 0F		 	ANL A,#0FH
   89:	  01AE			_Send1Seg:
   90:	  01AE	C0 83		 	PUSH DPH
   91:	  01B0	C0 82		 	PUSH DPL
   92:	  01B2	90 01 CF	 	MOV DPTR,#T_SEG
   93:	  01B5	93		 	MOVC A,@A+DPTR
   94:	  01B6	F4		 	CPL A
   95:	  01B7	F5 80		 	MOV PT_SEG,A
   96:	  01B9	D0 82		 	POP DPL
   97:	  01BB	D0 83		 	POP DPH
   98:	  01BD	7F 01		 	MOV R7,#kDelay
   99:	  01BF	12 01 E0	_Wait2: CALL DELAY

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 3



 Line  I  Addr  Code            Source

  100:	  01C2	DF FB		 	DJNZ R7,_Wait2
  101:	  01C4	75 80 FF	 	MOV PT_SEG,#0FFH
  102:	  01C7	7F 01		 	MOV R7,#kDelay
  103:	  01C9	12 01 E0	_Wait3: CALL DELAY
  104:	  01CC	DF FB		 	DJNZ R7,_Wait3
  105:	  01CE	22		 	RET
  106:	  01CF	77 11 6D 5D	T_SEG: 	DB 77H, 11H, 6DH, 5DH, 1BH, 5EH, 7EH, 15H ; Code 0123 4567
	  01D3	1B 5E 7E 15
  107:	  01D7	7F 5F 3F 7A	 	DB 7FH, 5FH, 3FH, 7AH, 66H, 79H, 6EH, 2EH ; Code 89ab cdef
	  01DB	66 79 6E 2E
  108:	  01DF	08		 	DB 08H
  109:	  01E0	75 F0 01	Delay: MOV B,#kDelay
  110:	  01E3	74 FA		 	MOV A,#250
  111:	  01E5	D5 E0 FD	_DLY00: DJNZ Acc,_DLY00
  112:	  01E8	D5 F0 FA	 	DJNZ B,_DLY00
  113:	  01EB	22		 	RET
  114:				END





                     register banks used:  ---

                     no errors




ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 4





	       L I S T   O F   S Y M B O L S
	       =============================


SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
??ASEM_51			  NUMBER    8051
??VERSION			  NUMBER    0130
AC				  BIT	      D6
ACC				  DATA	      E0
B				  DATA	      F0
CY				  BIT	      D7
DELAY				  CODE	    01E0	 109
DISPLAY_DPTR			  CODE	    0194	  74
DPH				  DATA	      83
DPL				  DATA	      82
EA				  BIT	      AF
ES				  BIT	      AC
ET0				  BIT	      A9
ET1				  BIT	      AB
EX0				  BIT	      A8
EX1				  BIT	      AA
EXTI0				  CODE	    0003
EXTI1				  CODE	    0013
F0				  BIT	      D5
IE				  DATA	      A8
IE0				  BIT	      89
IE1				  BIT	      8B
INT0				  BIT	      B2
INT1				  BIT	      B3
IP				  DATA	      B8
IT0				  BIT	      88
IT1				  BIT	      8A
KDELAY				  NUMBER    0001	   1
LF_SEG				  NUMBER    0094	   4
LOOP				  CODE	    0107	  17
OV				  BIT	      D2
P				  BIT	      D0
P0				  DATA	      80
P1				  DATA	      90
P2				  DATA	      A0
P3				  DATA	      B0
PCLOCK				  NUMBER    00A6	   8
PCON				  DATA	      87
PDATA				  NUMBER    00A7	   7
PLATCH				  NUMBER    00A5	   9
PS				  BIT	      BC
PSW				  DATA	      D0
PT0				  BIT	      B9
PT1				  BIT	      BB
PT_SEG				  NUMBER    0080	   6
PX0				  BIT	      B8
PX1				  BIT	      BA
RB8				  BIT	      9A
RD				  BIT	      B7
REN				  BIT	      9C

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 5



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
RESET				  CODE	    0000
RG_SEG				  NUMBER    0095	   5
RI				  BIT	      98
RS0				  BIT	      D3
RS1				  BIT	      D4
RXD				  BIT	      B0
SBUF				  DATA	      99
SCON				  DATA	      98
SEND16_LED			  CODE	    0169	  50
SHIO8				  CODE	    0186	  64
SINT				  CODE	    0023
SM0				  BIT	      9F
SM1				  BIT	      9E
SM2				  BIT	      9D
SP				  DATA	      81
T0				  BIT	      B4
T1				  BIT	      B5
TB8				  BIT	      9B
TCON				  DATA	      88
TF0				  BIT	      8D
TF1				  BIT	      8F
TH0				  DATA	      8C
TH1				  DATA	      8D
TI				  BIT	      99
TIMER0				  CODE	    000B
TIMER1				  CODE	    001B
TL0				  DATA	      8A
TL1				  DATA	      8B
TMOD				  DATA	      89
TR0				  BIT	      8C
TR1				  BIT	      8E
TXD				  BIT	      B1
T_SEG				  CODE	    01CF	 106
WR				  BIT	      B6
_DLY00				  CODE	    01E5	 111
_SEND1HEX			  CODE	    01AC	  87
_SEND1SEG			  CODE	    01AE	  89
_SEND2HEX			  CODE	    01A4	  82
_SHIO				  CODE	    0189	  66
_WAIT0				  CODE	    017C	  59
_WAIT1				  CODE	    017E	  60
_WAIT2				  CODE	    01BF	  99
_WAIT3				  CODE	    01C9	 103
